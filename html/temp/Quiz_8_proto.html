<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>프로토타입으로 book 객체 만들기</title>
    <script>
        // 프로토타입 만들기 : 생성자 함수 작성
        function Book(title, author, totalPage, category, price) {
            // 프로퍼티 만들기
            this.title = title; 	// title 프로퍼티 만들기 
            this.author = author; 		// author 프로퍼티 만들기 
            this.totalPage = totalPage; // totalPage 프로퍼티 만들기
            this.category = category; // category 프로퍼티 만들기
            this.price = price; // price 프로퍼티 만들기
            this.leftover = totalPage; // price 프로퍼티 만들기
            this.rentalState = 1; // rentalState 프로퍼티 만들기
            this.rentalUser = ""; // rentalUser 프로퍼티 만들기
            this.rentalDay = 0; // rentalDate 프로퍼티 만들기

            // 메소드 만들기
            this.reading = function (page) { //reading() 메소드 작성
                this.leftover -= page;
                return this.leftover;
            }
            this.rental = function (user, day) { //rental() 메소드 작성
                this.rentalUser = user;
                this.rentalDay = day;
                this.rentalState = 0;
                return this.rentalState;
            }
        } 
    </script>
</head>
<body>
    <h3>리터럴 표기법으로 Book 객체 만들기</h3>
    <hr>
    <script>
        //new 연산자로 객체 생성
        let book = new Book("스며드는 리눅스", "문준현", 350, "IT", 30000); //Book 객체 생성
        //객체 활용
        document.write("Book : " + "<br>");
        document.write("제목 : " + book.title + "<br>");
        document.write("저자 : " + book.author + "<br>");
        document.write("장르 : " + book.category + "<br>");
        document.write("가격 : " + book.price + "원 <br>");
        document.write("총 페이지 수 : " + book.totalPage + "<br>");
        document.write("<hr />");

        document.write(
            "현재 전체 페이지 " +
            book.totalPage +
            " 중 잔여 페이지가 " +
            book.reading(50) +
            "페이지 남으셨습니다. <br><hr />"
        );
        book.rental("임예준", 30);
        let state = { 0: "대여중", 1: "대여가능" };

        document.write(
            "현재 " +
            book.title +
            "는 " +
            book.rentalUser +
            "님에게 " +
            book.rentalDay +
            "일 동안 " +
            state[book.rentalState] +
            "입니다."
        );
    </script>
</body>
</html>